build-pipeline:
  variables:
  trigger:
    include: "https://raw.githubusercontent.com/Vi3arD/jenkis-test-pipeline/gitlab-pipe-1/qa-build.yml"
    strategy: depend
  except:
    variables:
    - $PIPELINE_ID

deploy-pipeline:
  variables:
    PIPELINE_ID: $PIPELINE_ID
    CC_ARTIFACT: $CC_ARTIFACT
    CC_USER: Super Odmen
    CC_ENV: $CC_ENV
  trigger:
    include: "https://raw.githubusercontent.com/Vi3arD/jenkis-test-pipeline/gitlab-pipe-1/qa-deploy.yml"
    strategy: depend
  # only:
  #   variables:
  #     - $CI_PIPELINE_SOURCE == "trigger"
  #     - $PIPELINE_ID == "4"
  # except:
    # variables:
      # - $CI_PIPELINE_SOURCE == "trigger"    
  rules:
    - if: '$CI_PIPELINE_SOURCE == "trigger" && $PIPELINE_ID == "4"'    
    # - if: '$PIPELINE_ID == "4"'
